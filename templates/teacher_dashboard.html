{% extends "base.html" %}
{% block title %}Teacher Dashboard{% endblock %}
{% block content %}
<h1 class="page-title">My assignments</h1>
<p style="color: var(--text-muted); margin-bottom: 1.5rem;">Create and manage assignments, then evaluate student submissions.</p>
<a href="{{ url_for('create_assignment') }}" class="btn btn-primary">Create assignment</a>

<div class="card" style="margin-top: 1.5rem;">
  {% if assignments %}
  <ul class="assignment-list">
    {% for a in assignments %}
    <li>
      <div>
        <h3>{{ a.title }}</h3>
        <p class="assignment-meta">
          Due {% if a.due_date %}{{ a.due_date.strftime('%b %d, %Y %H:%M') }}{% else %}—{% endif %}
          · Max {{ a.max_marks }} marks · {{ a.submissions.count() }} submission(s)
        </p>
      </div>
      <div class="assignment-actions">
        <a href="{{ url_for('list_submissions', aid=a.id) }}" class="btn btn-ghost btn-small">View submissions</a>
        <a href="{{ url_for('edit_assignment', aid=a.id) }}" class="btn btn-ghost btn-small">Edit</a>
      </div>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <div class="empty-state">
    <p>No assignments yet. Create your first assignment to get started.</p>
    <a href="{{ url_for('create_assignment') }}" class="btn btn-primary">Create assignment</a>
  </div>
  {% endif %}
</div>
{% endblock %}
